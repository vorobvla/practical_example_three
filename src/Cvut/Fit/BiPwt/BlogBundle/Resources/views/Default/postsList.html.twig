{% extends "::base.html.twig" %}

{% block body %}
    <h2>Welcome to asdasdBlog!</h2>
    <h3>
        <a href="{{ path('newPost') }}">Publish New Post</a>
    </h3>
    <hr/>
    <h2>List of posts</h2>
    <table border="0">
    {%  for  p in posts  %}
        <tr>
            {# post title -> post details #}
            <td>
            <a href="{{ path('post', {id:p.getId}) }}"><b>{{ p.getTitle }}</b></a>
            </td>
            {# post author -> filter posts by author #}
            <td>
            by <a href="{{ path('index', {filterAuthorId:p.getAuthor.getId}) }}">
            {{ p.getAuthor.getName }}</a>
            </td>
            {# tags #}
            <td>
            ({% for t in p.getTags %}
                <a href="{{ path('index', {filterAuthorId:p.getAuthor.getId}) }}">
                    {{ t.getTitle }}
                </a>
            {% endfor %})
            </td>
            {# remove this post #}
            <td>
            <a href="{{ path('remove', {id:p.getId}) }}">[remove this post]</a>
            </td>
        </tr>
    {%  endfor %}
    </table>
{% endblock %}